package coctailPage;

import java.awt.BorderLayout;
import java.awt.FlowLayout;
import java.awt.Font;
import java.awt.LayoutManager;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.sql.Connection;
import java.sql.SQLException;

import javax.swing.ImageIcon;
import javax.swing.JButton;
import javax.swing.JLabel;
import javax.swing.JPanel;
import javax.swing.JTextArea;


import connection.ConnectionManager;

public class CenterCoctailPanel extends JPanel {
	
	private Connection db;
	private String name;
	private JPanel centerInfo;
	private JButton buyMe;
	
	public CenterCoctailPanel(String name){
		this.name=name;
		centerInfo=new JPanel();
		centerInfo.setLayout(new BorderLayout());
		buyMe = new JButton("Anhadir al carrito");
		
		buyMe.addActionListener(new ActionListener(){

			@Override
			public void actionPerformed(ActionEvent arg0) {
				// TODO Auto-generated method stub
				
			}
			
		});
		
		centerInfo.add(buyMe,BorderLayout.SOUTH);
		try{
			db = ConnectionManager.getConnection();
		}
		catch(SQLException e){
			System.out.println("SQLEXCEPION CONNECTION CENTERCOCTAILPANEL");
		}
		
		this.setLayout(new BorderLayout());
		JPanel titleP = new JPanel();
		JLabel nameLabel = new JLabel(this.name);
		nameLabel.setFont(new Font("Arial", Font.BOLD, 42));
		titleP.add(nameLabel);
		this.add(titleP,BorderLayout.NORTH);
		this.add(centerInfo,BorderLayout.CENTER);
		addImg();
		addDescr();		
	}
	
	private void addImg(){
		//SACAR LA IMG DE LA BD CON UNA CONSULTA.
				//img = SELECT PathImg from coctail where nombre = name;
				String img="coctailsImgs/maitai.jpg";
				
				img=img.substring(0,img.length()-4)+"2.jpg";
				JPanel panel = new JPanel((LayoutManager) new FlowLayout(FlowLayout.CENTER));
				panel.add(new JLabel(new ImageIcon(img)));
				this.add(panel,BorderLayout.WEST);

	}
	
	private void addDescr(){
		//sacar descripcion de la bd con consulta
		//descr= SELECT descr from coctail where nombre = name
		String descr = "lalalallalallalallalalalalalalla/nlalalallalallalalalffffffffffffffffffffffffffffffff" +
				"			dddddddddddddddddddddddddddddddddddwwwwwwwwwwwwwwwwwwwwwa";
		JTextArea descrJTA = new JTextArea(descr);
		descrJTA.setEditable(false);
		descrJTA.setBackground(null);
		descrJTA.setFocusable(false);
		descrJTA.setLineWrap(true);
		descrJTA.setWrapStyleWord(true);
//		descrJTA.setColumns(17);
		centerInfo.add(descrJTA,BorderLayout.CENTER);
	}
	
}
